モノイド

f(ab)=f(a)f(b)
(gf)(a)=g(f(a))
を満たす変換

この2つ満たせば遅延セグ木ok
